(self.webpackChunk=self.webpackChunk||[]).push([[969],{6829:(t,s,e)=>{"use strict";e.r(s),e.d(s,{default:()=>n});var a=e(3645),r=e.n(a)()((function(t){return t[1]}));r.push([t.id,".vs-input{width:100%!important}.vs__search{height:30px!important}",""]);const n=r},1969:(t,s,e)=>{"use strict";e.r(s),e.d(s,{default:()=>c});var a=e(7757),r=e.n(a);function n(t,s,e,a,r,n,o){try{var i=t[n](o),c=i.value}catch(t){return void e(t)}i.done?s(c):Promise.resolve(c).then(a,r)}function o(t){return function(){var s=this,e=arguments;return new Promise((function(a,r){var o=t.apply(s,e);function i(t){n(o,a,r,i,c,"next",t)}function c(t){n(o,a,r,i,c,"throw",t)}i(void 0)}))}}const i={data:function(){return{users:{},pagination:"",search:"",title:"",password:"",count:0,passDiv:!1,disabledDiv:!1,deleteDiv:!1,popup:!1,hasVisiblePassword:!1,userId:"",errors:[]}},methods:{loadApi:function(){var t=arguments,s=this;return o(r().mark((function e(){var a,n,o,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.length>0&&void 0!==t[0]?t[0]:1,n=s.$vs.loading({target:s.$refs.table,color:"dark"}),e.prev=2,e.next=5,axios.get("".concat(s.$base,"team-js-list/").concat(s.pagination,"?page=").concat(a,"&search=").concat(s.search));case 5:o=e.sent,i=o.data,s.users=i[0],s.count=i[1],n.close(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),alert(e.t0),n.close();case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))()},changePass:function(t,s){this.userId=t,this.title=s,this.popup=!0,this.passDiv=!0,this.disabledDiv=!1},updatePassword:function(){var t=this;return o(r().mark((function s(){var e,a,n;return r().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e=t.$vs.loading({target:t.$refs.form,color:"dark",text:"Processing..."}),s.prev=1,s.next=4,axios.put("".concat(t.$base,"user-password-update"),{userid:t.userId,password:t.password});case 4:a=s.sent,n=a.data,e.close(),t.$vs.notification({color:"dark",title:"Done",text:n.msg}),t.popup=!1,t.loadApi(),s.next=16;break;case 12:s.prev=12,s.t0=s.catch(1),e.close(),422==s.t0.response.status?t.errors=s.t0.response.data.errors:alert(s.t0);case 16:case"end":return s.stop()}}),s,null,[[1,12]])})))()},statusChange:function(t,s){var e=this;if(confirm("Do you want to change status ?")){var a=this.$vs.loading({target:this.$refs.table,color:"dark",text:"Processing..."});axios.get("".concat(this.$base,"user-status-update/").concat(t,"/").concat(s)).then((function(t){a.close(),e.loadApi()})).catch((function(t){return alert(t)}))}},destory:function(t){var s=this;if(confirm("The operation will delete the user?")&&confirm("You can lose this data completely. Are you sure to remove?")){var e=this.$vs.loading({target:this.$refs.table,color:"dark",text:"Processing..."});axios.delete("".concat(this.$base,"team-mgt/").concat(t,"/")).then((function(t){e.close(),s.$vs.notification({color:"dark",title:"Done",text:t.data.msg}),s.loadApi()})).catch((function(t){return alert(t)}))}}},created:function(){this.loadApi()}};e(5558);const c=(0,e(1900).Z)(i,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return t.$cookies.get("permissions").includes("Read")?e("section",{staticClass:"row"},[e("section",{staticClass:"col-md-6"},[e("div",{staticClass:"badge badge-primary mr-1 mb-1"},[t._v("Total Members: "),e("b",[t._v(t._s(t.count))])])]),t._v(" "),e("section",{staticClass:"col-md-6"},[e("vs-input",{staticStyle:{float:"right"},attrs:{dark:"",placeholder:"Search a Member"},on:{keyup:function(s){return t.loadApi()}},model:{value:t.search,callback:function(s){t.search=s},expression:"search"}})],1),t._v(" "),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table"},[t._m(0),t._v(" "),e("tbody",t._l(t.users.data,(function(s,a){return e("tr",{key:a},[e("td",[t._v("\n                            "+t._s(a+=1)+"\n                        ")]),t._v(" "),e("td",[s.adprofile_avatar?e("img",{directives:[{name:"img",rawName:"v-img"}],staticClass:"users-avatar-shadow rounded-circle",attrs:{src:s.adprofile_avatar,height:"48"}}):e("img",{staticClass:"users-avatar-shadow rounded-circle",attrs:{src:"imgs/default.png",height:"48"}})]),t._v(" "),e("td",[t._v("\n                            "+t._s(s.adfirst_name+" "+s.adlast_name)+"\n                        ")]),t._v(" "),e("td",[t._v("\n                            "+t._s(s.aduser_name)+"\n                        ")]),t._v(" "),e("td",t._l(s.roles,(function(s,a){return e("small",{key:a,staticClass:"badge badge-info"},[t._v(t._s(s.adrole_title))])})),0),t._v(" "),e("td",[1===s._status?e("span",{staticClass:"badge badge-light-success"},[t._v("Active")]):e("span",{staticClass:"badge badge-light-danger"},[t._v("Disabled")])]),t._v(" "),e("td",[e("div",{staticClass:"dropdown"},[t._m(1,!0),t._v(" "),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[t.$cookies.get("permissions").includes("Edit")?e("a",{staticClass:"dropdown-item",attrs:{href:"team-mgt/"+s.aduser_id+"/edit"}},[t._v("Edit")]):t._e(),t._v(" "),t.$cookies.get("permissions").includes("Edit")?e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.changePass(s.aduser_id,s.adfirst_name+" "+s.adlast_name)}}},[t._v("Change Password")]):t._e(),t._v(" "),t.$cookies.get("permissions").includes("Edit")?e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.statusChange(s.aduser_id,s._status)}}},[t._v(t._s(1===s._status?"Disable":"Enable"))]):t._e(),t._v(" "),t.$cookies.get("permissions").includes("Delete")?e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.destory(s.aduser_id)}}},[t._v("Delete")]):t._e()])])])])})),0)]),t._v(" "),e("pagination",{attrs:{data:t.users},on:{"pagination-change-page":t.loadApi}})],1),t._v(" "),e("vs-dialog",{attrs:{blur:"","prevent-close":"",width:"60%"},model:{value:t.popup,callback:function(s){t.popup=s},expression:"popup"}},[t.passDiv?e("section",{staticClass:"card"},[e("header",{staticClass:"card-header"},[e("h4",{staticClass:"card-title"},[t._v("Change Password for "+t._s(t.title))])]),t._v(" "),e("form",{ref:"form",staticClass:"card-body",on:{submit:function(s){return s.preventDefault(),t.updatePassword()}}},[e("div",{staticClass:"col-md-12"},[e("fieldset",{staticClass:"form-group"},[e("label",{class:[t.errors.password?"danger":""],domProps:{textContent:t._s(t.errors.password?t.errors.password[0]:"Password *")}}),t._v(" "),e("vs-input",{attrs:{type:"password",visiblePassword:t.hasVisiblePassword,placeholder:"Type Password","icon-after":""},on:{"click-icon":function(s){t.hasVisiblePassword=!t.hasVisiblePassword}},scopedSlots:t._u([{key:"icon",fn:function(){return[t.hasVisiblePassword?e("i",{staticClass:"bx bx-hide"}):e("i",{staticClass:"bx bx-show-alt"})]},proxy:!0}],null,!1,4205987399),model:{value:t.password,callback:function(s){t.password=s},expression:"password"}})],1)]),t._v(" "),e("div",{staticClass:"col-md-12"},[e("button",{staticClass:"btn btn-dark glow shadow mr-1 mb-1",attrs:{type:"submit"}},[t._v("Update")])])])]):t._e()])],1):t._e()}),[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("thead",[e("tr",[e("th",[t._v("\n                            S#\n                        ")]),t._v(" "),e("th",[t._v("Avatar")]),t._v(" "),e("th",[t._v("Name")]),t._v(" "),e("th",[t._v("Username")]),t._v(" "),e("th",[t._v("Position")]),t._v(" "),e("th",[t._v("Status")]),t._v(" "),e("th",[t._v("Options")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("button",{staticClass:"btn btn-default btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[s("i",{staticClass:"bx bx-dots-vertical-rounded"})])}],!1,null,null,null).exports},1900:(t,s,e)=>{"use strict";function a(t,s,e,a,r,n,o,i){var c,d="function"==typeof t?t.options:t;if(s&&(d.render=s,d.staticRenderFns=e,d._compiled=!0),a&&(d.functional=!0),n&&(d._scopeId="data-v-"+n),o?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},d._ssrRegister=c):r&&(c=i?function(){r.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:r),c)if(d.functional){d._injectStyles=c;var l=d.render;d.render=function(t,s){return c.call(s),l(t,s)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,c):[c]}return{exports:t,options:d}}e.d(s,{Z:()=>a})},5558:(t,s,e)=>{var a=e(6829);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,e(5346).Z)("18a8b451",a,!0,{})}}]);